<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="./jquery-3.6.0.min.js"></script>
    <!-- JqueryTouchSwipe-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.touchswipe/1.6.19/jquery.touchSwipe.min.js"></script>
    <!-- JqueryLeaflet MAP-->
    <script src="./Leaflet/leaflet.js"></script>


    <link rel="stylesheet" href="./Leaflet/leaflet.css" />
    <link rel="stylesheet" href="style.css">


    <!--  IMPORT A-FRAME-->
    <script src="./aframe.min.js"></script>

    <!--  IMPORT AR.JS GEOLOCATION-->
    <script type='text/javascript' src='./ar-threex-location-only.js'></script>

    <!--  IMPORT AFRAME-AR -->
    <script type='text/javascript' src='./aframe-ar.js'></script>




</head>
<body>
    <a-scene vr-mode-ui='enabled: false' arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false' renderer='antialias: true; alpha: true' shadow = 'enabled:true; type: basic' id="a-scene">
        <a-camera id="camera" gps-new-camera='gpsMinDistance: 2' look-controls mouse-cursor  shadow="near: 0.5; far: 50; cast-soft: true">
            <!--<a-entity cursor="rayOrigin: mouse"></a-entity>-->
        </a-camera>


        <!--PLACEHODLER geometry="primitive: plane" material="color: blue"-->
        <a-entity id="ambientSound" 
        sound="src: url(./src/sounds/BELLA_CIAO.mp3); autoplay: true; volume:0; loop:true; rolloffFactor:0"></a-entity>

        <!--PLACEHOLDER geometry="primitive: sphere" material="color: red" -->
        <a-entity id="speaker" 
        sound="src: url(./src/sounds/BELLA_CIAO.mp3); autoplay: true; volume:0;rolloffFactor:0"></a-entity>

        <a-entity id="wind" geometry="primitive: cube" material="color: green" 
        sound="src: url(./src/sounds/wind.mp3); autoplay: true; volume:1;rolloffFactor:0"></a-entity>

    </a-scene>

    <div id="overlay">


        <div id="interface" class="interface">
            <button id="again">Ascolta di nuovo</button>
            <button id="next">Vai al prossimo</button>
        </div>

        <div class=" interface" id="taleDescription"></div>
        
        <div id="songIndicator"  class="interface">Segui il canto di libert√† <br>
            <div id="dismiss"> Ho capito</div>
        </div>


        <div id="distanceIndicator"></div>

        <div class="top-right-Container">

            <button id="about" class="button" onclick="window.open('about.html', '_blank')">

                <img src="./src/imgs/info-icon.svg" alt="">
             </button>

            <button id="trouble" class="button" onclick="window.open('trouble.html', '_blank')">

                <img src="./src/imgs/help-icon.svg" alt="">
             </button>

        </div>

        <div class="bottomContainer">


            <button id="map" class="button" onclick="window.open('map.html', '_blank')">
                <img src="./src/imgs/map-icon.svg" alt="">Mappa       
            </button>



    


        </div>
    </div>


    <!--  IMPORT SCRIPT -->
<script type='text/javascript' src='./script.js'></script>

<script>

setInterval(toBeRepeated,2000)

let myCamera = document.querySelector("[gps-new-camera]");

myCamera.addEventListener('camera-init', () => {
    console.log('AR.js camera initialized successfully!');
});

myCamera.addEventListener('camera-error', (error) => {
    console.log('AR.js camera failed to initialize:', error.detail);
    //alert(error)
});


</script>
</body>
</html>